<?php
ini_set('display_errors', 1);
error_reporting(E_ALL);
/* scanResults.php
   Prints website vulnerabilties for the entered website.
*/

$title = "Scan Results";
$style = "stylesheet";
$styleFile = "style.css";

$website = $_POST['url'];

# The output from the program is formed into an 
# HTML web page.
printf("<html>\n<head><title>$title</title><link rel=$style href=$styleFile></head>\n<body>\n");

printf("<header>\n");
printf("<div class=left>\n");
printf("<img src=cobra.jpg width=150 height=150></div>\n");
printf("<div class=right>\n");
printf("<img src=cobra.jpg width=150 height=150></div>\n");
printf("<h1>Cobra Kai</h1>\n");
printf("<h2>$website Scan Results</h2> </header>\n");

#$command = escapeshellcmd("python pythonFiles.py $website");
exec("python3 pythonFiles.py $website", $output, $result);

printf("<div class=echo>\n");
for ($i = 0; $i < sizeof($output); $i++){
	printf($output[$i]);
	echo "<br>";
}
printf("</div>\n");

printf("<footer>Useful Sites:          ");
printf("<a href=https://owasp.org/www-project-top-ten/>OWASP</a>");
printf("          ");
printf("<a href=https://www.blackhat.com/>Black Hat</a>");
printf("          ");
printf("<a href=https://www.cisa.gov/uscert/ncas/alerts/aa22-117a/>CISA</a>");
printf("</footer>\n"); 

printf("</body>\n</html>\n");